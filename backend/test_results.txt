    Blocking waiting for file lock on build directory
   Compiling reconciliation-backend v0.1.0 (/Users/Arief/Documents/GitHub/reconciliation-platform-378/backend)
warning[E0602]: unknown lint: `rust_2021_idioms`
  |
  = help: did you mean: `rust_2018_idioms`
  = note: requested on the command line with `-W rust_2021_idioms`
  = note: `#[warn(unknown_lints)]` on by default

error: cannot find attribute `validate` in this scope
  --> src/api/v2/models/user.rs:86:7
   |
86 |     #[validate(length(min = 8, max = 128))]
   |       ^^^^^^^^
   |
   = note: `validate` is an attribute that can be used by the derive macro `Validate`, you might be missing a `derive` attribute
   = help: have you added the `#[macro_use]` on the module/import?

error: cannot find attribute `validate` in this scope
  --> src/api/v2/models/user.rs:84:7
   |
84 |     #[validate(email)]
   |       ^^^^^^^^
   |
   = note: `validate` is an attribute that can be used by the derive macro `Validate`, you might be missing a `derive` attribute
   = help: have you added the `#[macro_use]` on the module/import?

warning: unused import: `Responder`
 --> src/api/v2/handlers/users.rs:1:36
  |
1 | use actix_web::{web, HttpResponse, Responder};
  |                                    ^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` on by default

warning: unused import: `crate::models::schema::security_events::dsl as events_dsl`
  --> src/handlers/security.rs:14:5
   |
14 | use crate::models::schema::security_events::dsl as events_dsl;
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `UserInfo`
  --> src/services/user/operations/create.rs:10:71
   |
10 | use super::super::traits::{CreateOAuthUserRequest, CreateUserRequest, UserInfo};
   |                                                                       ^^^^^^^^

warning: unused imports: `Bool`, `Integer`, `Jsonb`, `Text`, `Timestamp`, and `Uuid as SqlUuid`
   --> src/services/sync/orchestration.rs:194:33
    |
194 |         use diesel::sql_types::{Uuid as SqlUuid, Text, Bool, Integer, Timestamp, Jsonb};
    |                                 ^^^^^^^^^^^^^^^  ^^^^  ^^^^  ^^^^^^^  ^^^^^^^^^  ^^^^^

warning: unused import: `diesel::sql_query`
   --> src/services/sync/orchestration.rs:195:13
    |
195 |         use diesel::sql_query;
    |             ^^^^^^^^^^^^^^^^^

warning: unused imports: `App` and `test`
 --> src/tests/helpers.rs:4:17
  |
4 | use actix_web::{test, web, App};
  |                 ^^^^       ^^^

warning: unused import: `web`
  --> src/tests/integration/handler_tests.rs:40:45
   |
40 |     use actix_web::{http::StatusCode, test, web, App};
   |                                             ^^^

warning: use of deprecated type alias `diesel::backend::RawValue`: Use `Backend::RawValue` directly
  --> src/api/v2/models/user.rs:59:41
   |
59 |     fn from_sql(bytes: diesel::backend::RawValue<'_, diesel::pg::Pg>) -> deserialize::Result<Self> {
   |                                         ^^^^^^^^
   |
   = note: `#[warn(deprecated)]` on by default

warning: unused variable: `auth_service`
   --> src/handlers/auth.rs:535:5
    |
535 |     auth_service: web::Data<Arc<AuthService>>,
    |     ^^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_auth_service`
    |
    = note: `#[warn(unused_variables)]` on by default

warning: this function depends on never type fallback being `()`
   --> src/services/cache.rs:421:5
    |
421 | /     pub async fn set<T>(&self, key: &str, value: &T, ttl: Option<Duration>) -> AppResult<()>
422 | |     where
423 | |         T: Serialize,
    | |_____________________^
    |
    = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in Rust 2024 and in a future release in all editions!
    = note: for more information, see <https://doc.rust-lang.org/edition-guide/rust-2024/never-type-fallback.html>
    = help: specify the types explicitly
note: in edition 2024, the requirement `!: deadpool_redis::redis::FromRedisValue` will fail
   --> src/services/cache.rs:436:22
    |
436 |                     .query_async(&mut *conn)
    |                      ^^^^^^^^^^^
    = note: `#[warn(dependency_on_unit_never_type_fallback)]` on by default
help: use `()` annotations to avoid fallback changes
    |
436 ~                     .query_async::<_, ()>(&mut *conn)
437 |                     .await
...
445 |                     .arg(serialized)
446 ~                     .query_async::<_, ()>(&mut *conn)
    |

warning: unused variable: `conn`
   --> src/handlers/sql_sync.rs:191:13
    |
191 |     let mut conn = db.get_connection_async().await
    |             ^^^^ help: if this is intentional, prefix it with an underscore: `_conn`

warning: variable does not need to be mutable
   --> src/handlers/sql_sync.rs:191:9
    |
191 |     let mut conn = db.get_connection_async().await
    |         ----^^^^
    |         |
    |         help: remove this `mut`
    |
    = note: `#[warn(unused_mut)]` on by default

warning: unused variable: `update_req`
   --> src/handlers/sql_sync.rs:228:9
    |
228 |     let update_req = req.into_inner();
    |         ^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_update_req`

warning: unused variable: `conn`
   --> src/handlers/sql_sync.rs:231:13
    |
231 |     let mut conn = db.get_connection_async().await
    |             ^^^^ help: if this is intentional, prefix it with an underscore: `_conn`

warning: variable does not need to be mutable
   --> src/handlers/sql_sync.rs:231:9
    |
231 |     let mut conn = db.get_connection_async().await
    |         ----^^^^
    |         |
    |         help: remove this `mut`

warning: unused variable: `conn`
   --> src/handlers/sql_sync.rs:279:13
    |
279 |     let mut conn = db.get_connection_async().await
    |             ^^^^ help: if this is intentional, prefix it with an underscore: `_conn`

warning: variable does not need to be mutable
   --> src/handlers/sql_sync.rs:279:9
    |
279 |     let mut conn = db.get_connection_async().await
    |         ----^^^^
    |         |
    |         help: remove this `mut`

warning: this function depends on never type fallback being `()`
   --> src/services/cache.rs:464:5
    |
464 |     pub async fn delete(&self, key: &str) -> AppResult<()> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in Rust 2024 and in a future release in all editions!
    = note: for more information, see <https://doc.rust-lang.org/edition-guide/rust-2024/never-type-fallback.html>
    = help: specify the types explicitly
note: in edition 2024, the requirement `!: deadpool_redis::redis::FromRedisValue` will fail
   --> src/services/cache.rs:468:14
    |
468 |             .query_async(&mut *conn)
    |              ^^^^^^^^^^^
help: use `()` annotations to avoid fallback changes
    |
468 |             .query_async::<_, ()>(&mut *conn)
    |                         +++++++++

warning: this function depends on never type fallback being `()`
   --> src/services/cache.rs:475:5
    |
475 |     pub async fn delete_many(&self, keys: &[String]) -> AppResult<()> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in Rust 2024 and in a future release in all editions!
    = note: for more information, see <https://doc.rust-lang.org/edition-guide/rust-2024/never-type-fallback.html>
    = help: specify the types explicitly
note: in edition 2024, the requirement `!: deadpool_redis::redis::FromRedisValue` will fail
   --> src/services/cache.rs:483:14
    |
483 |             .query_async(&mut *conn)
    |              ^^^^^^^^^^^
help: use `()` annotations to avoid fallback changes
    |
483 |             .query_async::<_, ()>(&mut *conn)
    |                         +++++++++

warning: this function depends on never type fallback being `()`
   --> src/services/cache.rs:536:5
    |
536 | /     pub async fn set_many<T>(
537 | |         &self,
538 | |         values: HashMap<String, T>,
539 | |         ttl: Option<Duration>,
540 | |     ) -> AppResult<()>
541 | |     where
542 | |         T: Serialize,
    | |_____________________^
    |
    = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in Rust 2024 and in a future release in all editions!
    = note: for more information, see <https://doc.rust-lang.org/edition-guide/rust-2024/never-type-fallback.html>
    = help: specify the types explicitly
note: in edition 2024, the requirement `!: deadpool_redis::redis::FromRedisValue` will fail
   --> src/services/cache.rs:561:14
    |
561 |             .query_async(&mut *conn)
    |              ^^^^^^^^^^^
help: use `()` annotations to avoid fallback changes
    |
561 ~             .query_async::<_, ()>(&mut *conn)
562 |             .await
...
569 |                     .arg(duration.as_secs())
570 ~                     .query_async::<_, ()>(&mut *conn)
    |

warning: this function depends on never type fallback being `()`
   --> src/services/cache.rs:582:5
    |
582 |     pub async fn clear(&self) -> AppResult<()> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in Rust 2024 and in a future release in all editions!
    = note: for more information, see <https://doc.rust-lang.org/edition-guide/rust-2024/never-type-fallback.html>
    = help: specify the types explicitly
note: in edition 2024, the requirement `!: deadpool_redis::redis::FromRedisValue` will fail
   --> src/services/cache.rs:586:14
    |
586 |             .query_async(&mut *conn)
    |              ^^^^^^^^^^^
help: use `()` annotations to avoid fallback changes
    |
586 |             .query_async::<_, ()>(&mut *conn)
    |                         +++++++++

warning: this function depends on never type fallback being `()`
   --> src/services/cache.rs:600:5
    |
600 |     pub async fn health_check(&self) -> AppResult<()> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in Rust 2024 and in a future release in all editions!
    = note: for more information, see <https://doc.rust-lang.org/edition-guide/rust-2024/never-type-fallback.html>
    = help: specify the types explicitly
note: in edition 2024, the requirement `!: deadpool_redis::redis::FromRedisValue` will fail
   --> src/services/cache.rs:604:14
    |
604 |             .query_async(&mut *conn)
    |              ^^^^^^^^^^^
help: use `()` annotations to avoid fallback changes
    |
604 |             .query_async::<_, ()>(&mut *conn)
    |                         +++++++++

warning: use of deprecated associated function `chrono::DateTime::<Tz>::from_utc`: Use TimeZone::from_utc_datetime() or DateTime::from_naive_utc_and_offset instead
   --> src/services/security_event_logging.rs:191:53
    |
191 |             let start_dt = chrono::DateTime::<Utc>::from_utc(
    |                                                     ^^^^^^^^

warning: use of deprecated associated function `chrono::NaiveDateTime::from_timestamp_opt`: use `DateTime::from_timestamp` instead
   --> src/services/security_event_logging.rs:192:40
    |
192 |                 chrono::NaiveDateTime::from_timestamp_opt(start, 0).unwrap_or_default(),
    |                                        ^^^^^^^^^^^^^^^^^^

warning: use of deprecated associated function `chrono::DateTime::<Tz>::from_utc`: Use TimeZone::from_utc_datetime() or DateTime::from_naive_utc_and_offset instead
   --> src/services/security_event_logging.rs:199:51
    |
199 |             let end_dt = chrono::DateTime::<Utc>::from_utc(
    |                                                   ^^^^^^^^

warning: use of deprecated associated function `chrono::NaiveDateTime::from_timestamp_opt`: use `DateTime::from_timestamp` instead
   --> src/services/security_event_logging.rs:200:40
    |
200 |                 chrono::NaiveDateTime::from_timestamp_opt(end, 0).unwrap_or_default(),
    |                                        ^^^^^^^^^^^^^^^^^^

error[E0277]: the trait bound `(..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ...): CompatibleType<..., ...>` is not satisfied
    --> src/services/v2/user.rs:45:32
     |
  45 |                 .first::<User>(&mut conn)
     |                  -----         ^^^^^^^^^ unsatisfied trait bound
     |                  |
     |                  required by a bound introduced by this call
     |
     = help: the trait `load_dsl::private::CompatibleType<api::v2::models::user::User, Pg>` is not implemented for `(..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ...)`
     = note: this is a mismatch between what your query returns and what your type expects the query to return
     = note: the fields in your struct need to match the fields returned by your query in count, order and type
     = note: consider using `#[diesel(check_for_backend(Pg))]` on either `#[derive(Selectable)]` or `#[derive(QueryableByName)]` 
             on your struct `api::v2::models::user::User` and in your query `.select(api::v2::models::user::User::as_select())` to get a better error message
     = help: the following other types implement trait `load_dsl::private::CompatibleType<U, DB>`:
               `diesel::expression::select_by::SelectBy<U, DB>` implements `load_dsl::private::CompatibleType<U, DB>`
               `diesel::sql_types::Nullable<(ST, ST1)>` implements `load_dsl::private::CompatibleType<std::option::Option<__T>, __DB>`
               `diesel::sql_types::Nullable<(ST, ST1, ST2)>` implements `load_dsl::private::CompatibleType<std::option::Option<__T>, __DB>`
               `diesel::sql_types::Nullable<(ST, ST1, ST2, ST3)>` implements `load_dsl::private::CompatibleType<std::option::Option<__T>, __DB>`
               `diesel::sql_types::Nullable<(ST, ST1, ST2, ST3, ST4)>` implements `load_dsl::private::CompatibleType<std::option::Option<__T>, __DB>`
               `diesel::sql_types::Nullable<(ST, ST1, ST2, ST3, ST4, ST5)>` implements `load_dsl::private::CompatibleType<std::option::Option<__T>, __DB>`
               `diesel::sql_types::Nullable<(ST, ST1, ST2, ST3, ST4, ST5, ST6)>` implements `load_dsl::private::CompatibleType<std::option::Option<__T>, __DB>`
               `diesel::sql_types::Nullable<(ST, ST1, ST2, ST3, ST4, ST5, ST6, ST7)>` implements `load_dsl::private::CompatibleType<std::option::Option<__T>, __DB>`
             and 26 others
     = note: required for `SelectStatement<FromClause<table>, ..., ..., ..., ..., ...>` to implement `LoadQuery<'_, _, api::v2::models::user::User>`
note: required by a bound in `first`
    --> /Users/Arief/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/diesel-2.3.3/src/query_dsl/mod.rs:1833:22
     |
1830 |     fn first<'query, U>(self, conn: &mut Conn) -> QueryResult<U>
     |        ----- required by a bound in this associated function
...
1833 |         Limit<Self>: LoadQuery<'query, Conn, U>,
     |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^ required by this bound in `RunQueryDsl::first`
     = note: the full name for the type has been written to '/Users/Arief/Documents/GitHub/reconciliation-platform-378/backend/target/debug/deps/reconciliation_backend-48b69812fe3adcda.long-type-8324754744321247251.txt'
     = note: consider using `--verbose` to print the full type name to the console

error[E0277]: `?` couldn't convert the error to `errors::AppError`
  --> src/services/v2/user.rs:47:15
   |
42 |           let user = web::block(move || {
   |  ____________________-
43 | |             schema::users::table
44 | |                 .filter(schema::users::id.eq(user_id))
45 | |                 .first::<User>(&mut conn)
46 | |         })
47 | |         .await??; // Handles both web::block error and Diesel error
   | |              -^ the trait `std::convert::From<BlockingError>` is not implemented for `errors::AppError`
   | |______________|
   |                this can't be annotated with `?` because it has type `Result<_, BlockingError>`
   |
note: `errors::AppError` needs to implement `From<BlockingError>`
  --> src/errors.rs:37:1
   |
37 | pub enum AppError {
   | ^^^^^^^^^^^^^^^^^
   = note: the question mark operation (`?`) implicitly performs a conversion on the error value using the `From` trait
   = help: the following other types implement trait `std::convert::From<T>`:
             `errors::AppError` implements `std::convert::From<AlertError>`
             `errors::AppError` implements `std::convert::From<OfflineError>`
             `errors::AppError` implements `std::convert::From<OptimisticUpdateError>`
             `errors::AppError` implements `std::convert::From<actix_web::Error>`
             `errors::AppError` implements `std::convert::From<diesel::ConnectionError>`
             `errors::AppError` implements `std::convert::From<diesel::result::Error>`
             `errors::AppError` implements `std::convert::From<jsonwebtoken::errors::Error>`
             `errors::AppError` implements `std::convert::From<redis::RedisError>`
           and 2 others

error[E0277]: the trait bound `(..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ...): CompatibleType<..., ...>` is not satisfied
    --> src/services/v2/user.rs:87:37
     |
  87 |                 .get_result::<User>(&mut conn)
     |                  ----------         ^^^^^^^^^ unsatisfied trait bound
     |                  |
     |                  required by a bound introduced by this call
     |
     = help: the trait `load_dsl::private::CompatibleType<api::v2::models::user::User, Pg>` is not implemented for `(..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ...)`
     = note: this is a mismatch between what your query returns and what your type expects the query to return
     = note: the fields in your struct need to match the fields returned by your query in count, order and type
     = note: consider using `#[diesel(check_for_backend(Pg))]` on either `#[derive(Selectable)]` or `#[derive(QueryableByName)]` 
             on your struct `api::v2::models::user::User` and in your query `.select(api::v2::models::user::User::as_select())` to get a better error message
     = help: the following other types implement trait `load_dsl::private::CompatibleType<U, DB>`:
               `diesel::expression::select_by::SelectBy<U, DB>` implements `load_dsl::private::CompatibleType<U, DB>`
               `diesel::sql_types::Nullable<(ST, ST1)>` implements `load_dsl::private::CompatibleType<std::option::Option<__T>, __DB>`
               `diesel::sql_types::Nullable<(ST, ST1, ST2)>` implements `load_dsl::private::CompatibleType<std::option::Option<__T>, __DB>`
               `diesel::sql_types::Nullable<(ST, ST1, ST2, ST3)>` implements `load_dsl::private::CompatibleType<std::option::Option<__T>, __DB>`
               `diesel::sql_types::Nullable<(ST, ST1, ST2, ST3, ST4)>` implements `load_dsl::private::CompatibleType<std::option::Option<__T>, __DB>`
               `diesel::sql_types::Nullable<(ST, ST1, ST2, ST3, ST4, ST5)>` implements `load_dsl::private::CompatibleType<std::option::Option<__T>, __DB>`
               `diesel::sql_types::Nullable<(ST, ST1, ST2, ST3, ST4, ST5, ST6)>` implements `load_dsl::private::CompatibleType<std::option::Option<__T>, __DB>`
               `diesel::sql_types::Nullable<(ST, ST1, ST2, ST3, ST4, ST5, ST6, ST7)>` implements `load_dsl::private::CompatibleType<std::option::Option<__T>, __DB>`
             and 26 others
     = note: required for `InsertStatement<table, ValuesClause<..., ...>>` to implement `LoadQuery<'_, _, api::v2::models::user::User>`
note: required by a bound in `get_result`
    --> /Users/Arief/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/diesel-2.3.3/src/query_dsl/mod.rs:1776:15
     |
1774 |     fn get_result<'query, U>(self, conn: &mut Conn) -> QueryResult<U>
     |        ---------- required by a bound in this associated function
1775 |     where
1776 |         Self: LoadQuery<'query, Conn, U>,
     |               ^^^^^^^^^^^^^^^^^^^^^^^^^^ required by this bound in `RunQueryDsl::get_result`
     = note: the full name for the type has been written to '/Users/Arief/Documents/GitHub/reconciliation-platform-378/backend/target/debug/deps/reconciliation_backend-48b69812fe3adcda.long-type-8324754744321247251.txt'
     = note: consider using `--verbose` to print the full type name to the console

error[E0277]: `?` couldn't convert the error to `diesel::result::Error`
  --> src/services/v2/user.rs:67:15
   |
64 |               let password_hash = hash(&new_user_req.password, DEFAULT_COST).map_err(|e| {
   |  _________________________________------------------------------------------_-
   | |                                 |
   | |                                 this can't be annotated with `?` because it has type `Result<_, BcryptError>`
65 | |                 log::error!("Failed to hash password: {}", e);
66 | |                 AppError::InternalServerError
67 | |             })?;
   | |              -^ unsatisfied trait bound
   | |______________|
   |                this can't be annotated with `?` because it has type `Result<_, fn(std::string::String) -> errors::AppError {errors::AppError::InternalServerError}>`
   |
   = note: the question mark operation (`?`) implicitly performs a conversion on the error value using the `From` trait
   = help: the trait `From<fn(std::string::String) -> errors::AppError {errors::AppError::InternalServerError}>` is not implemented for `diesel::result::Error`
           but trait `From<NulError>` is implemented for it
   = help: for that trait implementation, expected `NulError`, found `fn(std::string::String) -> errors::AppError {errors::AppError::InternalServerError}`

error[E0277]: `?` couldn't convert the error to `errors::AppError`
  --> src/services/v2/user.rs:89:15
   |
63 |           let created_user = web::block(move || {
   |  ____________________________-
64 | |             let password_hash = hash(&new_user_req.password, DEFAULT_COST).map_err(|e| {
65 | |                 log::error!("Failed to hash password: {}", e);
66 | |                 AppError::InternalServerError
...  |
88 | |         })
89 | |         .await??;
   | |              -^ the trait `std::convert::From<BlockingError>` is not implemented for `errors::AppError`
   | |______________|
   |                this can't be annotated with `?` because it has type `Result<_, BlockingError>`
   |
note: `errors::AppError` needs to implement `From<BlockingError>`
  --> src/errors.rs:37:1
   |
37 | pub enum AppError {
   | ^^^^^^^^^^^^^^^^^
   = note: the question mark operation (`?`) implicitly performs a conversion on the error value using the `From` trait
   = help: the following other types implement trait `std::convert::From<T>`:
             `errors::AppError` implements `std::convert::From<AlertError>`
             `errors::AppError` implements `std::convert::From<OfflineError>`
             `errors::AppError` implements `std::convert::From<OptimisticUpdateError>`
             `errors::AppError` implements `std::convert::From<actix_web::Error>`
             `errors::AppError` implements `std::convert::From<diesel::ConnectionError>`
             `errors::AppError` implements `std::convert::From<diesel::result::Error>`
             `errors::AppError` implements `std::convert::From<jsonwebtoken::errors::Error>`
             `errors::AppError` implements `std::convert::From<redis::RedisError>`
           and 2 others

error[E0277]: the trait bound `(..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ...): CompatibleType<..., ...>` is not satisfied
    --> src/services/v2/user.rs:138:37
     |
 138 |                 .get_result::<User>(&mut conn)
     |                  ----------         ^^^^^^^^^ unsatisfied trait bound
     |                  |
     |                  required by a bound introduced by this call
     |
     = help: the trait `load_dsl::private::CompatibleType<api::v2::models::user::User, Pg>` is not implemented for `(..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ..., ...)`
     = note: this is a mismatch between what your query returns and what your type expects the query to return
     = note: the fields in your struct need to match the fields returned by your query in count, order and type
     = note: consider using `#[diesel(check_for_backend(Pg))]` on either `#[derive(Selectable)]` or `#[derive(QueryableByName)]` 
             on your struct `api::v2::models::user::User` and in your query `.select(api::v2::models::user::User::as_select())` to get a better error message
     = help: the following other types implement trait `load_dsl::private::CompatibleType<U, DB>`:
               `diesel::expression::select_by::SelectBy<U, DB>` implements `load_dsl::private::CompatibleType<U, DB>`
               `diesel::sql_types::Nullable<(ST, ST1)>` implements `load_dsl::private::CompatibleType<std::option::Option<__T>, __DB>`
               `diesel::sql_types::Nullable<(ST, ST1, ST2)>` implements `load_dsl::private::CompatibleType<std::option::Option<__T>, __DB>`
               `diesel::sql_types::Nullable<(ST, ST1, ST2, ST3)>` implements `load_dsl::private::CompatibleType<std::option::Option<__T>, __DB>`
               `diesel::sql_types::Nullable<(ST, ST1, ST2, ST3, ST4)>` implements `load_dsl::private::CompatibleType<std::option::Option<__T>, __DB>`
               `diesel::sql_types::Nullable<(ST, ST1, ST2, ST3, ST4, ST5)>` implements `load_dsl::private::CompatibleType<std::option::Option<__T>, __DB>`
               `diesel::sql_types::Nullable<(ST, ST1, ST2, ST3, ST4, ST5, ST6)>` implements `load_dsl::private::CompatibleType<std::option::Option<__T>, __DB>`
               `diesel::sql_types::Nullable<(ST, ST1, ST2, ST3, ST4, ST5, ST6, ST7)>` implements `load_dsl::private::CompatibleType<std::option::Option<__T>, __DB>`
             and 26 others
     = note: required for `UpdateStatement<table, WhereClause<Grouped<Eq<id, ...>>>, ...>` to implement `LoadQuery<'_, _, api::v2::models::user::User>`
note: required by a bound in `get_result`
    --> /Users/Arief/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/diesel-2.3.3/src/query_dsl/mod.rs:1776:15
     |
1774 |     fn get_result<'query, U>(self, conn: &mut Conn) -> QueryResult<U>
     |        ---------- required by a bound in this associated function
1775 |     where
1776 |         Self: LoadQuery<'query, Conn, U>,
     |               ^^^^^^^^^^^^^^^^^^^^^^^^^^ required by this bound in `RunQueryDsl::get_result`
     = note: the full name for the type has been written to '/Users/Arief/Documents/GitHub/reconciliation-platform-378/backend/target/debug/deps/reconciliation_backend-48b69812fe3adcda.long-type-8324754744321247251.txt'
     = note: consider using `--verbose` to print the full type name to the console

error[E0277]: `?` couldn't convert the error to `diesel::result::Error`
   --> src/services/v2/user.rs:110:19
    |
107 |                   Some(hash(password, DEFAULT_COST).map_err(|e| {
    |  ______________________----------------------------_-
    | |                      |
    | |                      this can't be annotated with `?` because it has type `Result<_, BcryptError>`
108 | |                     log::error!("Failed to hash password: {}", e);
109 | |                     AppError::InternalServerError
110 | |                 })?)
    | |                  -^ unsatisfied trait bound
    | |__________________|
    |                    this can't be annotated with `?` because it has type `Result<_, fn(std::string::String) -> errors::AppError {errors::AppError::InternalServerError}>`
    |
    = note: the question mark operation (`?`) implicitly performs a conversion on the error value using the `From` trait
    = help: the trait `From<fn(std::string::String) -> errors::AppError {errors::AppError::InternalServerError}>` is not implemented for `diesel::result::Error`
            but trait `From<NulError>` is implemented for it
    = help: for that trait implementation, expected `NulError`, found `fn(std::string::String) -> errors::AppError {errors::AppError::InternalServerError}`

error[E0277]: `?` couldn't convert the error to `errors::AppError`
   --> src/services/v2/user.rs:140:15
    |
105 |           let updated_user = web::block(move || {
    |  ____________________________-
106 | |             let password_hash = if let Some(password) = &update_req.password {
107 | |                 Some(hash(password, DEFAULT_COST).map_err(|e| {
108 | |                     log::error!("Failed to hash password: {}", e);
...   |
139 | |         })
140 | |         .await??;
    | |              -^ the trait `std::convert::From<BlockingError>` is not implemented for `errors::AppError`
    | |______________|
    |                this can't be annotated with `?` because it has type `Result<_, BlockingError>`
    |
note: `errors::AppError` needs to implement `From<BlockingError>`
   --> src/errors.rs:37:1
    |
 37 | pub enum AppError {
    | ^^^^^^^^^^^^^^^^^
    = note: the question mark operation (`?`) implicitly performs a conversion on the error value using the `From` trait
    = help: the following other types implement trait `std::convert::From<T>`:
              `errors::AppError` implements `std::convert::From<AlertError>`
              `errors::AppError` implements `std::convert::From<OfflineError>`
              `errors::AppError` implements `std::convert::From<OptimisticUpdateError>`
              `errors::AppError` implements `std::convert::From<actix_web::Error>`
              `errors::AppError` implements `std::convert::From<diesel::ConnectionError>`
              `errors::AppError` implements `std::convert::From<diesel::result::Error>`
              `errors::AppError` implements `std::convert::From<jsonwebtoken::errors::Error>`
              `errors::AppError` implements `std::convert::From<redis::RedisError>`
            and 2 others

error[E0277]: `?` couldn't convert the error to `errors::AppError`
   --> src/services/v2/user.rs:156:15
    |
152 | /         web::block(move || {
153 | |             diesel::delete(schema::users::table.filter(schema::users::id.eq(user_id)))
154 | |                 .execute(&mut conn)
155 | |         })
156 | |         .await??;
    | |              -^ the trait `std::convert::From<BlockingError>` is not implemented for `errors::AppError`
    | |______________|
    |                this can't be annotated with `?` because it has type `Result<_, BlockingError>`
    |
note: `errors::AppError` needs to implement `From<BlockingError>`
   --> src/errors.rs:37:1
    |
 37 | pub enum AppError {
    | ^^^^^^^^^^^^^^^^^
    = note: the question mark operation (`?`) implicitly performs a conversion on the error value using the `From` trait
    = help: the following other types implement trait `std::convert::From<T>`:
              `errors::AppError` implements `std::convert::From<AlertError>`
              `errors::AppError` implements `std::convert::From<OfflineError>`
              `errors::AppError` implements `std::convert::From<OptimisticUpdateError>`
              `errors::AppError` implements `std::convert::From<actix_web::Error>`
              `errors::AppError` implements `std::convert::From<diesel::ConnectionError>`
              `errors::AppError` implements `std::convert::From<diesel::result::Error>`
              `errors::AppError` implements `std::convert::From<jsonwebtoken::errors::Error>`
              `errors::AppError` implements `std::convert::From<redis::RedisError>`
            and 2 others

warning: unused variable: `conn`
   --> src/services/sync/orchestration.rs:188:17
    |
188 |         let mut conn = self.db.get_connection_async().await
    |                 ^^^^ help: if this is intentional, prefix it with an underscore: `_conn`

warning: unused variable: `query`
   --> src/services/sync/orchestration.rs:197:13
    |
197 |         let query = format!(
    |             ^^^^^ help: if this is intentional, prefix it with an underscore: `_query`

warning: variable does not need to be mutable
   --> src/services/sync/orchestration.rs:188:13
    |
188 |         let mut conn = self.db.get_connection_async().await
    |             ----^^^^
    |             |
    |             help: remove this `mut`

warning: unused variable: `conn`
   --> src/services/sync/orchestration.rs:245:17
    |
245 |         let mut conn = self.db.get_connection_async().await
    |                 ^^^^ help: if this is intentional, prefix it with an underscore: `_conn`

warning: variable does not need to be mutable
   --> src/services/sync/orchestration.rs:245:13
    |
245 |         let mut conn = self.db.get_connection_async().await
    |             ----^^^^
    |             |
    |             help: remove this `mut`

warning: unused variable: `conn`
   --> src/services/sync/orchestration.rs:217:17
    |
217 |         let mut conn = self.db.get_connection_async().await
    |                 ^^^^ help: if this is intentional, prefix it with an underscore: `_conn`

warning: variable does not need to be mutable
   --> src/services/sync/orchestration.rs:217:13
    |
217 |         let mut conn = self.db.get_connection_async().await
    |             ----^^^^
    |             |
    |             help: remove this `mut`

error[E0308]: mismatched types
  --> src/services/v2/user.rs:31:9
   |
30 |       fn get_db_conn(&self) -> Result<PooledConnection<ConnectionManager<PgConnection>>, AppError> {
   |                                ------------------------------------------------------------------- expected `Result<PooledConnection<ConnectionManager<PgConnection>>, AppError>` because of return type
31 | /         self.pool.get().map_err(|e| {
32 | |             log::error!("Failed to get DB connection from pool: {}", e);
33 | |             AppError::InternalServerError
34 | |         })
   | |__________^ expected `errors::AppError`, found enum constructor
   |
   = note: expected enum `Result<_, errors::AppError>`
              found enum `Result<_, fn(std::string::String) -> errors::AppError {errors::AppError::InternalServerError}>`
   = note: the full name for the type has been written to '/Users/Arief/Documents/GitHub/reconciliation-platform-378/backend/target/debug/deps/reconciliation_backend-48b69812fe3adcda.long-type-7996831304164348769.txt'
   = note: consider using `--verbose` to print the full type name to the console

warning: unused import: `diesel::prelude`
 --> src/handlers/projects.rs:5:5
  |
5 | use diesel::prelude::*;
  |     ^^^^^^^^^^^^^^^

warning: unused import: `AsyncCommands`
 --> src/services/cache.rs:5:29
  |
5 | use deadpool_redis::redis::{AsyncCommands, Commands, RedisError};
  |                             ^^^^^^^^^^^^^

warning: unused import: `Commands`
 --> src/services/cache.rs:5:44
  |
5 | use deadpool_redis::redis::{AsyncCommands, Commands, RedisError};
  |                                            ^^^^^^^^

warning: variable does not need to be mutable
   --> src/middleware/combined_security.rs:110:20
    |
110 |     fn call(&self, mut req: ServiceRequest) -> Self::Future {
    |                    ----^^^
    |                    |
    |                    help: remove this `mut`

warning: unused variable: `backup_service`
  --> src/services/backup_recovery/mod.rs:51:13
   |
51 |         let backup_service = BackupService::new(config);
   |             ^^^^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_backup_service`

warning: unused variable: `recovery_service`
   --> src/services/backup_recovery/mod.rs:214:13
    |
214 |         let recovery_service = DisasterRecoveryService::new(backup_service);
    |             ^^^^^^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_recovery_service`

warning: unused variable: `cfg`
  --> src/tests/helpers.rs:22:32
   |
22 | pub fn configure_test_services(cfg: &mut web::ServiceConfig) {
   |                                ^^^ help: if this is intentional, prefix it with an underscore: `_cfg`

Some errors have detailed explanations: E0277, E0308, E0602.
For more information about an error, try `rustc --explain E0277`.
warning: `reconciliation-backend` (lib test) generated 41 warnings
error: could not compile `reconciliation-backend` (lib test) due to 12 previous errors; 47 warnings emitted
