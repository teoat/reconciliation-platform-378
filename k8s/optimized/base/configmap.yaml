apiVersion: v1
kind: ConfigMap
metadata:
  name: reconciliation-config
  namespace: reconciliation-platform
  labels:
    app: reconciliation-platform
data:
  # Backend Configuration
  RUST_LOG: "info"
  RUST_BACKTRACE: "1"
  DATABASE_POOL_SIZE: "20"
  DATABASE_TIMEOUT: "30"
  REDIS_POOL_SIZE: "10"
  REDIS_TIMEOUT: "5"
  
  # Frontend Configuration
  VITE_API_URL: "http://backend-service:2000/api/v1"
  VITE_WS_URL: "ws://backend-service:2000"
  
  # Application Settings
  APP_ENV: "production"
  APP_NAME: "reconciliation-platform"
  APP_VERSION: "1.0.0"
  
  # Security
  SESSION_TIMEOUT: "3600"
  RATE_LIMIT_ENABLED: "true"
  RATE_LIMIT_REQUESTS: "100"
  RATE_LIMIT_WINDOW: "60"
  
  # CORS Configuration
  CORS_ORIGINS: "http://localhost:1000,http://localhost:3000,http://localhost:5173"
  
  # File Upload Configuration
  MAX_FILE_SIZE: "10485760"  # 10MB in bytes
  UPLOAD_PATH: "/app/uploads"
  
  # Content Security Policy
  CUSTOM_CSP: "default-src 'self'; script-src 'self' 'nonce-{nonce}'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self' http://localhost:2000 ws://localhost:2000 http://localhost:1000 ws://localhost:1000 http://localhost:3000 ws://localhost:3000 http://localhost:5173 ws://localhost:5173; frame-ancestors 'none'; base-uri 'self'; form-action 'self'; upgrade-insecure-requests;"

