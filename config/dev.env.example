# ============================================================================
# Reconciliation Platform - Development Environment (Example)
# ============================================================================
# Purpose:
#   - Single Source of Truth (SSOT) for local/dev secrets and passwords
#   - Aligned with docker-compose defaults for Postgres and Redis
#   - Safe for development only â€“ DO NOT USE IN STAGING/PRODUCTION
# ============================================================================
# Usage:
#   1. Copy this file to project root as `.env` for local development:
#        cp config/dev.env.example .env
#   2. Optionally adjust values, but keep them in sync with docker-compose.*
#   3. Never commit the generated `.env` file to version control.
# ============================================================================

# ============================================================================
# DATABASE CONFIGURATION (Postgres)
# ============================================================================

POSTGRES_DB=reconciliation_app
POSTGRES_USER=postgres
# Matches docker-compose default: ${POSTGRES_PASSWORD:-postgres_pass}
POSTGRES_PASSWORD=postgres_pass
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# Application DATABASE_URL used by backend
DATABASE_URL=postgresql://postgres:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# ============================================================================
# REDIS CONFIGURATION
# ============================================================================

# Matches docker-compose default: ${REDIS_PASSWORD:-redis_pass}
REDIS_PASSWORD=redis_pass
REDIS_HOST=localhost
REDIS_PORT=6379

# Application REDIS_URL used by backend and tools
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}

# ============================================================================
# SECURITY SECRETS (DEV-ONLY PLACEHOLDERS)
# ============================================================================
# These are intentionally simple, dev-only secrets. They MUST NOT be used
# in staging or production. For higher security in dev, you can regenerate
# them with: `openssl rand -hex 32`.

# JWT signing secret (access tokens)
JWT_SECRET=dev_jwt_secret_378_local_change_me

# JWT refresh token secret (separate from JWT_SECRET)
JWT_REFRESH_SECRET=dev_jwt_refresh_secret_378_local_change_me

# CSRF protection secret
CSRF_SECRET=dev_csrf_secret_378_local_change_me

# Password manager master key (used for local password encryption)
PASSWORD_MASTER_KEY=dev_master_key_378_local_change_me

# ============================================================================
# APPLICATION & FRONTEND CONFIGURATION
# ============================================================================

HOST=0.0.0.0
BACKEND_PORT=2000
FRONTEND_PORT=1000

ENVIRONMENT=development
NODE_ENV=development
RUST_LOG=debug
RUST_BACKTRACE=1

# Vite / Frontend configuration
VITE_API_URL=http://localhost:${BACKEND_PORT}/api/v1
VITE_WS_URL=ws://localhost:${BACKEND_PORT}
VITE_APP_NAME=Reconciliation Platform (Dev)
VITE_APP_VERSION=1.0.0-dev
VITE_LOG_LEVEL=debug
VITE_DEBUG=true

# ============================================================================
# CORS & FILE UPLOAD CONFIGURATION
# ============================================================================

CORS_ORIGINS=http://localhost:1000,http://localhost:3000,http://localhost:5173

MAX_FILE_SIZE=10485760
UPLOAD_PATH=./uploads

# ============================================================================
# POOLING & TIMEOUTS (DEV-SAFE DEFAULTS)
# ============================================================================

DATABASE_POOL_SIZE=20
DATABASE_TIMEOUT=30
REDIS_POOL_SIZE=10
REDIS_TIMEOUT=5


