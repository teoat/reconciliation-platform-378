# Production Environment Configuration
# This file contains production-specific environment variables and settings

# Application Configuration
NODE_ENV=production
RUST_LOG=info
LOG_LEVEL=info

# Server Configuration
HOST=0.0.0.0
PORT=8080
BACKEND_PORT=8080
FRONTEND_PORT=3000

# Database Configuration
DATABASE_URL=postgresql://reconciliation_user:${DB_PASSWORD}@postgres:5432/reconciliation_db
DB_HOST=postgres
DB_PORT=5432
DB_NAME=reconciliation_db
DB_USER=reconciliation_user
DB_PASSWORD=${DB_PASSWORD}
DB_POOL_SIZE=20
DB_MAX_CONNECTIONS=50
DB_TIMEOUT=30

# Redis Configuration
REDIS_URL=redis://redis:6379
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=${REDIS_PASSWORD}
REDIS_DB=0
REDIS_POOL_SIZE=10

# JWT Configuration
JWT_SECRET=${JWT_SECRET}
JWT_EXPIRATION=3600
JWT_REFRESH_EXPIRATION=86400

# CORS Configuration
CORS_ORIGIN=https://reconciliation.example.com
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=Content-Type,Authorization,X-Requested-With

# File Upload Configuration
MAX_FILE_SIZE=104857600
UPLOAD_DIR=/app/uploads
TEMP_DIR=/app/temp

# Monitoring Configuration
ENABLE_METRICS=true
METRICS_PORT=9090
PROMETHEUS_ENDPOINT=/metrics
HEALTH_CHECK_ENDPOINT=/health

# Security Configuration
ENABLE_RATE_LIMITING=true
RATE_LIMIT_REQUESTS=1000
RATE_LIMIT_WINDOW=3600
ENABLE_CSP=true
CSP_POLICY="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'"

# WebSocket Configuration
WS_ENABLED=true
WS_PORT=8081
WS_MAX_CONNECTIONS=1000

# Performance Configuration
ENABLE_COMPRESSION=true
COMPRESSION_LEVEL=6
ENABLE_CACHING=true
CACHE_TTL=3600

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=${BACKUP_S3_BUCKET}
BACKUP_S3_REGION=${BACKUP_S3_REGION}

# Email Configuration
SMTP_HOST=${SMTP_HOST}
SMTP_PORT=587
SMTP_USER=${SMTP_USER}
SMTP_PASSWORD=${SMTP_PASSWORD}
SMTP_FROM=noreply@reconciliation.example.com

# External Services
SENTRY_DSN=${SENTRY_DSN}
NEW_RELIC_LICENSE_KEY=${NEW_RELIC_LICENSE_KEY}
DATADOG_API_KEY=${DATADOG_API_KEY}

# Kubernetes Configuration
KUBERNETES_NAMESPACE=reconciliation
KUBERNETES_SERVICE_ACCOUNT=reconciliation-service
KUBERNETES_CONFIG_MAP=reconciliation-config

# Load Balancer Configuration
LOAD_BALANCER_ENABLED=true
LOAD_BALANCER_ALGORITHM=round_robin
LOAD_BALANCER_HEALTH_CHECK_PATH=/health
LOAD_BALANCER_HEALTH_CHECK_INTERVAL=30

# SSL/TLS Configuration
SSL_ENABLED=true
SSL_CERT_PATH=/etc/ssl/certs/reconciliation.crt
SSL_KEY_PATH=/etc/ssl/private/reconciliation.key
SSL_CIPHERS=ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256

# Container Configuration
CONTAINER_MEMORY_LIMIT=2Gi
CONTAINER_CPU_LIMIT=1000m
CONTAINER_MEMORY_REQUEST=1Gi
CONTAINER_CPU_REQUEST=500m

# Scaling Configuration
MIN_REPLICAS=2
MAX_REPLICAS=10
TARGET_CPU_UTILIZATION=70
TARGET_MEMORY_UTILIZATION=80

# Feature Flags
ENABLE_ANALYTICS=true
ENABLE_REAL_TIME_UPDATES=true
ENABLE_FILE_UPLOAD=true
ENABLE_BULK_OPERATIONS=true
ENABLE_API_VERSIONING=true

# Maintenance Mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="System is currently under maintenance. Please try again later."

# Debug Configuration
DEBUG_MODE=false
VERBOSE_LOGGING=false
ENABLE_PROFILING=false
